---
import Layout from '../../layouts/Layout.astro';

const sections = [
  {
    title: 'Setting Up Your Environment',
    content: `
      Before we start creating our bot, let's set up our development environment:

      1. Install Node.js (v16.9.0 or higher)
      2. Create a new directory for your project
      3. Initialize a new Node.js project
      4. Install required dependencies

      \`\`\`bash
      mkdir my-discord-bot
      cd my-discord-bot
      npm init -y
      npm install discord.js dotenv
      \`\`\`
    `
  },
  {
    title: 'Creating Your Bot Application',
    content: `
      Let's create your bot on Discord:

      1. Go to the [Discord Developer Portal](https://discord.com/developers/applications)
      2. Click "New Application" and give it a name
      3. Go to the "Bot" section and click "Add Bot"
      4. Copy your bot token (keep it secure!)
      5. Enable necessary Privileged Gateway Intents:
         - Presence Intent
         - Server Members Intent
         - Message Content Intent
    `
  },
  {
    title: 'Writing Your First Bot Code',
    content: `
      Create your main bot file (index.js):

      \`\`\`javascript
      require('dotenv').config();
      const { Client, GatewayIntentBits } = require('discord.js');

      const client = new Client({
        intents: [
          GatewayIntentBits.Guilds,
          GatewayIntentBits.GuildMessages,
          GatewayIntentBits.MessageContent
        ]
      });

      client.once('ready', () => {
        console.log(\`Logged in as \${client.user.tag}\`);
      });

      client.on('messageCreate', message => {
        if (message.author.bot) return;

        if (message.content === '!hello') {
          message.reply('Hello, World!');
        }
      });

      client.login(process.env.TOKEN);
      \`\`\`

      Create a .env file:
      \`\`\`
      TOKEN=your-bot-token-here
      \`\`\`
    `
  },
  {
    title: 'Running Your Bot',
    content: `
      1. Start your bot:
         \`\`\`bash
         node index.js
         \`\`\`
      
      2. Invite your bot to a server:
         - Go to OAuth2 > URL Generator in the Developer Portal
         - Select "bot" scope
         - Choose basic permissions
         - Copy and open the generated URL
         - Select a server to add your bot

      3. Test your bot by typing !hello in a channel
    `
  }
];
---

<Layout title="Creating Your First Discord Bot - Tutorial">
  <div class="max-w-4xl mx-auto py-8">
    <h1 class="text-4xl font-bold mb-8">Creating Your First Discord Bot</h1>
    
    <div class="space-y-12">
      {sections.map((section, index) => (
        <div class="bg-[#2B2D31] p-6 rounded-lg">
          <h2 class="text-2xl font-semibold mb-4">
            <span class="text-[#5865F2] mr-2">{index + 1}.</span>
            {section.title}
          </h2>
          <div class="prose prose-invert max-w-none">
            {section.content}
          </div>
        </div>
      ))}
    </div>

    <div class="mt-8 flex justify-between">
      <a 
        href="/getting-started" 
        class="bg-[#4F545C] hover:bg-[#686D73] px-6 py-3 rounded-md font-medium transition-colors"
      >
        ← Back to Getting Started
      </a>
      <a 
        href="/tutorials/slash-commands" 
        class="bg-[#5865F2] hover:bg-[#4752C4] px-6 py-3 rounded-md font-medium transition-colors"
      >
        Next: Implementing Slash Commands →
      </a>
    </div>
  </div>
</Layout>